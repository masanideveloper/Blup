<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rating Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-image: url('https://i.postimg.cc/pTH0Y5sp/Rectangle-8610.png');
      background-size: cover;
      font-family: 'Arial', sans-serif;
      text-align: center;
        }

        h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
        }

        /* Improved Rating List Styling */
        .rating-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin: 10px 0;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease-in-out, transform 0.2s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .rating-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(1.02);
        }

        .rating-item div {
            font-size: 1.2rem;
        }

        /* Footer Navigation with Active Color and Hover Effects */
        .footer-nav {
            position: fixed;
      background-image: url('https://i.postimg.cc/cCb9xWQ3/image.png');
      bottom: 0;
      background-size: cover;
      width: 100%;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 10px;
      border-radius: 20px;
      box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
        }

        .footer-nav img {
            width: 80px;
            height: 80px;
            transition: all 0.2s ease-in-out;
            opacity: 0.7;
        }

        .footer-nav img:hover {
            opacity: 1;
        }

        .footer-nav img.active {
            transform: scale(1.5);
      opacity: 1;
      border-radius: 30px;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        }
    </style>
</head>
<body>

    <!-- Rating List -->
    <div class="container mt-5">
        <h3 class="text-center">Rating List</h3>
        <div id="ratingList">
            <!-- Sample leaderboard entries -->
        </div>
    </div>

  <!-- Footer navigation -->
  <div class="footer-nav">
    <img src="https://i.postimg.cc/ZRr4vff0/Group-271304.png" alt="Tasks" id="tasksIcon" onclick="goToTasks()">
    <img src="https://i.postimg.cc/VsrXpXJv/Group-271303.png" alt="Home" id="homeIcon" class="active" onclick="goToHome()">
    <img src="https://i.postimg.cc/nzqhggK3/Group-271305.png" alt="Rating" id="ratingIcon" onclick="goToRating()">
  </div>

    <script>
        // Simulate leaderboard data
        const leaderboard = [
            { username: 'User1', points: 3500 },
            { username: 'User2', points: 3200 },
            { username: 'User3', points: 3100 },
            { username: 'User4', points: 2800 },
            { username: 'User5', points: 2600 }
        ];

        // Display leaderboard
        const ratingList = document.getElementById('ratingList');
        leaderboard.forEach(user => {
            const item = document.createElement('div');
            item.classList.add('rating-item');
            item.innerHTML = `<div>${user.username}</div><div>${user.points} points</div>`;
            ratingList.appendChild(item);
        });

        // Fetch user's data from localStorage
  // Get Telegram ID from local storage (replace with actual ID retrieval logic)
 
  /*  const telegramId = localStorage.getItem('telegram_id') || '123456'; // Replace with actual Telegram ID retrieval

    // Fetch leaderboard data from PHP
    fetch(`get_leaderboard.php?telegram_id=${telegramId}`)
        .then(response => {
            if (!response.ok) {
                throw new Error("Failed to fetch data");
            }
            return response.json();  // Ensure the response is JSON
        })
        .then(data => {
            const { leaderboard, user } = data;

            // Display leaderboard
            const ratingList = document.getElementById('ratingList');
            ratingList.innerHTML = '';  // Clear any existing content

            // If there's a leaderboard, display it
            if (leaderboard && leaderboard.length > 0) {
                leaderboard.forEach(user => {
                    const item = document.createElement('div');
                    item.classList.add('rating-item');
                    item.innerHTML = `<div>${user.username}</div><div>${user.balance} points</div>`;
                    ratingList.appendChild(item);
                });
            } else {
                ratingList.innerHTML = '<p>No leaderboard data found</p>';
            }

            // Display current user's balance at the bottom
            if (user) {
                const heroItem = document.createElement('div');
                heroItem.classList.add('rating-item');
                heroItem.innerHTML = `<div>${user.username} (You)</div><div>${user.balance} points</div>`;
                ratingList.appendChild(heroItem);
            }
        })
        .catch(error => {
            console.error('Error fetching leaderboard:', error);
            const ratingList = document.getElementById('ratingList');
            ratingList.innerHTML = '<p>Error loading leaderboard. Please try again later.</p>';
        }); */
        
        // Navigation click functions
        function goToTasks() {
            document.getElementById('tasksIcon').classList.add('active');
            document.getElementById('homeIcon').classList.remove('active');
            document.getElementById('ratingIcon').classList.remove('active');
            window.location.href = "tasks.html";  // Link to the task page
        }

        function goToHome() {
            document.getElementById('homeIcon').classList.add('active');
            document.getElementById('tasksIcon').classList.remove('active');
            document.getElementById('ratingIcon').classList.remove('active');
            window.location.href = "index.html";  // Link to the home page
        }

        function goToRating() {
            document.getElementById('ratingIcon').classList.add('active');
            document.getElementById('homeIcon').classList.remove('active');
            document.getElementById('tasksIcon').classList.remove('active');
            alert("Already on Rating Page");
        }
    </script>

</body>
</html>
